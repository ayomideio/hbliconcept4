$("body").on("click", ".btn-delete", function(){
    $(this).parents("tr").remove();
});

$("body").on("click", ".btn-edit", function(){
    var name = $(this).parents("tr").attr('data-name');
    var email = $(this).parents("tr").attr('data-email');
    var txt
var txd
$("#name > option").each(function() {
txt +="<option"
txt+=" value="
txt+=this.value+" >"
txt+=this.text +"</option>"
// alert(this.text + ' ' + this.value);
});
$("#email > option").each(function() {
txd +="<option"
txd+=" value="
txd+=this.value+" >"
txd+=this.text +"</option>"
// alert(this.text + ' ' + this.value);
});
$(this).parents("tr").find("td:eq(0)").html('<select name="edit_name" >'+txt+'</select>');
$(this).parents("tr").find("td:eq(1)").html('<select name="edit_email" >'+txd+'</select>');

    $(this).parents("tr").find("td:eq(2)").prepend("<button class='btn btn-info btn-sm btn-update' style='padding:0; margin-right:4px;'>Update</button><button class='btn btn-warning btn-sm btn-cancel' style='padding:0; margin-right:4px;'>Cancel</button>")
    $(this).hide();
});

$("body").on("click", ".btn-cancel", function(){
    var name = $(this).parents("tr").attr('data-name');
    var email = $(this).parents("tr").attr('data-email');

    $(this).parents("tr").find("td:eq(0)").text(name);
    $(this).parents("tr").find("td:eq(1)").text(email);

    $(this).parents("tr").find(".btn-edit ").show();
    $(this).parents("tr").find(".btn-update").remove();
    $(this).parents("tr").find(".btn-cancel").remove();
});

$("body").on("click", ".btn-update", function(){
    var name = $(this).parents("tr").find("input[name='edit_name']").val();
    var email = $(this).parents("tr").find("input[name='edit_email']").val();

    $(this).parents("tr").find("td:eq(0)").text(name);
    $(this).parents("tr").find("td:eq(1)").text(email);
 
    $(this).parents("tr").attr('data-name', name);
    $(this).parents("tr").attr('data-email', email);

    $(this).parents("tr").find(".btn-edit ").show();
    $(this).parents("tr").find(".btn-cancel").remove();
    $(this).parents("tr").find(".btn-update ").remove();
});
