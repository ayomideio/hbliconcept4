{% extends 'libraryback.html' %}
{% load static %}

{% block content %}
      

        <main class="page-content pt-2">
         
            <a href="#" id="fmp-button" data-theme="ice-theme" class="theme ice-theme" style="display: none;"></a>
            <div id="overlay" class="overlay"></div>
            <div class="container-fluid p-5">
                <div class="modal" id="myModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
        
                            <!-- Modal Header -->
                            <div class="modal-header">
                                <h4 class="modal-title">Select Profile</h4>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
        
                            <!-- Modal body -->
                            <div class="modal-body">
        
        {#                                <table id="example" class="stripe row-border order-column" cellspacing="0" width="100%">#}
                                        <table id="example" class="table table-bordered table-striped table-sm" cellspacing="0" width="100%">
                                            <thead>
                                            <tr>
                                                <th><i class="fas fa-user"></i></th>
                                                <th>Users Profiles</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for Profile in Profiles %}
                                                <tr>
                                                    <td><i class="fas fa-user"></i></td>
                                                    <td><a href="{% url 'prof_trans' Profile.Profile_ID %}"> {{ Profile.Profile_ID }}</a></td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
        
                            </div>
        
                            <!-- Modal footer -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                            </div>
        
                        </div>
                    </div>s
                </div>
             
                <div class="row">
                 
                    <div class="col col-lg-2" style=" padding-right: 3px; border-radius: 10px; margin-left: 2px; ">
                        <a href="" style="color:navy"><span class="fa fa-edit"></span></a>
                        <a href="" style="color:navy"><span class="fa fa-retweet"></span></a>
                        <a href="" style="color:#FFD700"><span class="fa fa-angle-double-left"></span></a>
                        <a href="" style="color:#FFD700"><span class="fa fa-angle-double-right"></span></a>
                        <a href=""><span class="fa fa-globe"></span></a>
                        <a href="" style="color:#FFD700"><span class="fa fa-list"></span></a>
                        <a href=""><span class="fa fa-file"></span></a>
                    </div>
                    <div class="col col-lg-6">
                        <form method="GET" id="">
                            <input type="text" name="q"
                                   style="width: 75%; margin:0%;border-radius: 25px; border: 1px solid lightblue;">
                            <button type="button" data-toggle="modal" data-target="#myModal"
                                    style="margin: 0%; border-radius: 10px; border: 1px solid lightblue; ">Select profile
                            </button>
            
                        </form>
            
            
                    </div>
                    <form method="post" action="{% url 'calloverforcontrol_index' %}">
                        {% csrf_token %}
                        <input type="text" name="page" style="width: 50%;border-radius: 25px; border: 1px solid lightblue;">
                        <button type="submit" style="margin: 0%; border-radius: 10px; border: 1px solid lightblue;">Trans limit
                        </button>
                    </form>
                    
           
            </div> 
            <div class="row">
                <div class="col col-lg-12">
        
                    <a href="{% url 'calloverforcontrol_index' %}" class=""
                            style="border-radius: 10px; border: 1px solid lightblue; margin-bottom: 5px; margin-top: 2px">
                        Refresh Tnx
                    
                </div>
            </div>
            <h6 class="panel-title" style="height:20px;">Callover for Control</h6>
            <div style="overflow-y: scroll; height: 70%;">
                <form action="{% url 'book_delete' %}" method="POST">
                    {% csrf_token %}
                    <!-- <button type="submit" class="btn btn-sm btn-danger" style="margin-bottom:3px;  "> Delete multiple</button>
                    <br/> -->
        
        
                    <table class="table table-striped table-bordered table-sm" data-link="row" >
                        <thead  style="background-color: #2E5090; color: #F2F6F2">
                        <tr>
                            <th style="background-color: #2c6db8; color: white;">CHECK RECORDS</th>
                            <th style="background-color: #2c6db8; color: white;">BRANCH CODE</th>
                            <th style="background-color: #2c6db8; color: white;">ENTRY DATE</th>
                            <th style="text-align: right;background-color: #2c6db8; color: white;">NO OF ENTRIES</th>
                            <th style="text-align: right;background-color: #2c6db8; color: white;">CREDIT FREQ</th>
                            <th style="text-align: right;background-color: #2c6db8; color: white;">TOTAL CREDIT</th>
                            <th style="text-align: right;background-color: #2c6db8; color: white;">DEBIT FREQ</th>
                            <th style="text-align: right;background-color: #2c6db8; color: white;">TOTAL DEBIT</th>
                            {#                    <th>Actions</th>#}
                        </tr>
                        </thead>
                        <tbody>
        
        
                           
                         
                        
                     
        
                        {% for result in results %}
                            <tr>
                                <td><input type="checkbox" name="instance" value="{{ result.IC4_BRANCH_CODE }}"><a
                                        href="{% url 'update' result.IC4_BRANCH_CODE %}"
        
                                        value="{{ result.IC4_BRANCH_CODE }}">{{ resutl.IC4_BRANCH_CODE }}</a>
                                </td>
                                <td><a href="{% url 'calloverforControl_bank_trans' result.IC4_BRANCH_CODE %}"> {{ result.IC4_BRANCH_CODE }}</a>
                                </td>
                                <td><a href=""> {{ result.GRP_BY_DATE|date:'d-m-Y'  }}</a></td>
                                <td style="text-align: right;">{{ result.NO_OF_ENTRIES }}</td>
                                <td style="text-align: right;">{{ result.NO_OF_CREDIT }}</td>
                                <td class="contribution" style="text-align: right;">{{ result.CREDIT_TOTAL_CALL }}</td>
                                <td style="text-align: right;">{{ result.NO_OF_DEBIT }}</td>
                                <td class="contribution" style="text-align: right;">{{ result.DEBIT_TOTAL_CALL }}</td>
                                {#                        <td>#}
                                {#                            <a href="update/{{ book.id }}" class="btn btn-warning" id='{{ book.id }}'>edit</a>#}
                                {#                            <a href="delete/{{ book.id }}" class="btn btn-danger" id='{{ book.id }}'>delete</a>#}
                                {#                        </td>#}
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
        
                </form>
            </div>
            <div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true"
         id="update-model">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="exampleModalLongTitle">Edit Your Detail</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="update-form">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="trans_id" class="col-sm-2 col-form-label">Transection ID</label>
                            <div class="col-md-12">
                                <input type="text" class="form-control" id="trans_id" name="trans-ID"
                                       placeholder="email@example.com">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="branch" class="col-sm-2 col-form-label">Branch Code</label>
                            <div class="col-md-12">
                                <input type="text" class="form-control" id="branch" name="branch"
                                       placeholder="email@example.com">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="account-number" class="col-sm-2 col-form-label">Account Number</label>
                            <div class="col-md-12">
                                <input type="text" class="form-control" id="account-number" name="acc-number"
                                       placeholder="email@example.com">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="acc-name" class="col-sm-2 col-form-label">Account Name</label>
                            <div class="col-md-12">
                                <input type="text" class="form-control" id="acc-name" name="acc-name"
                                       placeholder="email@example.com">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="date" class="col-sm-2 col-form-label">Date</label>
                            <div class="col-md-12">
                                <input type="text" class="form-control" id="date" name="date"
                                       placeholder="email@example.com">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="amount" class="col-sm-2 col-form-label">Amount</label>
                            <div class="col-md-12">
                                <input type="text" class="form-control" id="amount" name="amount"
                                       placeholder="email@example.com">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="narrative" class="col-sm-2 col-form-label">Narrative</label>
                            <div class="col-md-12">
                                <textarea rows="2" class="form-control" id="narrative" name="narrative"
                                          placeholder="CB 106/107 Street # 11 Wah Cantt Islamabad Pakistan"></textarea>
                            </div>
                        </div>
                        <input type="hidden" class="form-control" id="ID" name="id">
                        <input id="update" type="submit" class="btn btn-warning btn-lg" value="Update"
                               style="width: 100%;">
                    </form>

                </div>
                <div class="modal-footer ">


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <div class="pagination" style="margin: auto;padding-left: 100px; width: 400px;">
        {% if shelf.has_previous %}
            <a class=" pagination-action" href="?page=1"><span class="fa fa-angle-double-left"></span> </a>
            <a class="pagination-action" href="?page={{ shelf.previous_page_number }}"> <span
                    class="fa fa-angle-left"></span> </a>
        {% endif %}
        {% for num in shelf.paginator.page_range %}
            {% if shelf.number == num %}
                <span class="pagination-number pagination-current">{{ num }}</span>
            {% elif num > shelf.number|add:'-5' and num < shelf.number|add:'5' %}
                <a class="pagination-number" href="?page={{ num }}">{{ num }}</a>
            {% endif %}
        {% endfor %}
        {% if shelf.has_next %}
            <a class="pagination-action" href="?page={{ shelf.next_page_number }}">
                <i class="fa fa-angle-right" aria-hidden="true"></i>
            </a>
            <a class="pagination-action" href="?page={{ shelf.paginator.num_pages }}">
                <i class="fa fa-angle-double-right" aria-hidden="true"></i>
            </a>
        {% endif %}

    </div>


    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
   <div class="modal-dialog modal-dialog-centered" role="document">
       <div class="modal-content">
           <div class="modal-header">
               <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                   <span aria-hidden="true">&times;</span>
               </button>
           </div>
           <div class="modal-body">
               <form method='POST' enctype="multipart/form-data">
                   {% csrf_token %}
                   <table class='w-50 table table-light' style="border-radius:10px;background-color:#FFFF99;">
                       {% for field in upload_form %}
                           <tr>
                               <th>{{ field.label }}</th>
                               <td>{{ field }}</td>
                           </tr>
                       {% endfor %}
                   </table>
                   <button type="submit" class="btn btn-lg btn-warning">Submit</button>
               </form>

               <div class="modal-footer">
                   <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                   <button type="submit" class="btn btn-primary">Save changes</button>
               </div>
               </form>
           </div>
       </div>
   </div>
</div>
       

<div class="modal fade" id="exception" tabindex="-1" role="dialog" aria-labelledby="exception" aria-hidden="true"
id="update-model">
<div class="modal-dialog">
   <div class="modal-content">
       <div class="modal-header">
           <h4 class="modal-title" id="exampleModalLongTitle">Enetr Transection Exception</h4>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
           </button>
       </div>
       <div class="modal-footer ">


       </div>
       <div class="modal-body">
           <form action="{% url 'submit_exception' %}" method="post">
               {% csrf_token %}
               <div class="form-row">
                   <div class="form-group col-md-6">
                       <label for="inputEmail4">Inputter Email</label>
                       <input type="email" name="inputter-email" class="form-control" id="email" placeholder="Email" readonly>
                   </div>
                   <div class="form-group col-md-6">
                       <label>Entery Date</label>
                       <input type="datetime-local" name="enteryDate" class="form-control" id="enteryDate" placeholder="Password" readonly>
                   </div>
               </div>
               <div class="form-row">
                   <div class="form-group col-md-8">
                       <label>Action</label>
                       <input type="text" name="action" class="form-control" id="action" placeholder="1234 Main St" readonly>
                   </div>
                   <div class="form-group col-md-4">
                       <label>Branch Code</label>
                       <input type="text" name="branchCode" class="form-control" id="branchCode" placeholder="1234 Main St" readonly>
                   </div>
               </div>
               <div class="form-row">
                   <div class="form-group col-md-4">
                       <label>Severity</label>
                       <select name="severity" class="form-control">
                           <option class="dropdown-item" selected="selected" disabled>Select Severity Level</option>
                           <option class="dropdown-item" value="High">High</option>
                           <option class="dropdown-item" value="Medium">Medium</option>
                           <option class="dropdown-item" value="Low">Low</option>
                       </select>
                   </div>
                   <div class="form-group col-md-8">
                       <label>Implication</label>
                       <input type="text" name="implication" class="form-control" id="implication" placeholder="Password" readonly>
                   </div>
               </div>
               <div class="form-group">
                   <label>Observation</label>
                   <input type="text" name="observation" class="form-control" id="observation"
                          placeholder="e.g date mot matched">
               </div>
               <div class="form-group">
                   <label>Exception Details</label>
                   <input type="text" name="exceptionDetails" class="form-control" id="exceptionDetails"
                          placeholder="e.g date mot matched">
               </div>
               <div class="form-group">
                   <label>Callover Officer</label>
                   <input type="email" name="officer" class="form-control" id="officer"
                          placeholder="Apartment, studio, or floor" readonly>
               </div>
               <div class="form-row">
                   <div class="form-group col-md-6">
                       <label>Review Date</label>
                       <input type="date" name="reviewDate" class="form-control" id="reviewDate" readonly>
                   </div>
                   <div class="form-group col-md-6">
                       <label>Callover Date</label>
                       <input type="date" name="calloverDate" class="form-control" id="calloverDate" readonly>
                   </div>
               </div>
               <input type="hidden", name="transID" id="transID">
               <button type="submit" class="btn btn-primary">Add Exception</button>
           </form>

       </div>
   </div>
   <!-- /.modal-content -->
</div>
<!-- /.modal-dialog -->
</div>


<scr src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></scr>
<scr src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></scr>
<scr src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></scr>


{#<scr src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></scr>#}
{#    <!-- jQuery UI !-->#}
{#<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>#}

{% block script %}

    <script src="https://cdn.rawgit.com/xcash/bootstrap-autocomplete/3de7ad37/dist/latest/bootstrap-autocomplete.js"></script>
    <script>
        $('.basicAutoComplete').autoComplete(
            {minLength: 1}
        );
        $('.dropdown-menu').css({'top': 'auto', 'left': 'auto'})

    </script>
    <script>
$("td.contribution").each(function() { $(this).html(parseFloat($(this).text()).toLocaleString('en-US', { style: "currency", currency: "USD" })); })
  </script>
{% endblock %}

        </main>
        <!-- page-content" -->
<!-- {% endblock %} -->